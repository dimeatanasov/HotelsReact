{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fakultet\\\\V semestar\\\\Web Programiranjj\\\\Hotels\\\\app\\\\src\\\\components\\\\HotelList.js\";\nimport React, { Component } from 'react';\nimport './Style.css';\nimport { Card, Table, Image, ButtonGroup, Button, InputGroup, FormControl } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faList, faEdit, faTrash, faStepBackward, faFastBackward, faStepForward, faFastForward, faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport myToast from './myToast';\nimport axios from 'axios';\nexport default class HotelList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortData = () => {\n      this.setState(state => ({\n        sortToggle: !state.sortToggle\n      }));\n      this.findAllHotels(this.state.currentPage);\n    };\n\n    this.deleteHotel = hotelId => {\n      axios.delete(\"http://localhost:8081/api/hotels/\" + hotelId).then(response => {\n        if (response.data != null) {\n          this.setState({\n            \"show\": true\n          });\n          setTimeout(() => this.setState({\n            \"show\": false\n          }), 3000);\n          this.setState({\n            hotels: this.state.hotels.filter(hotel => hotel.hotelId !== hotelId)\n          });\n        } else {\n          this.setState({\n            \"show\": false\n          });\n        }\n      });\n    };\n\n    this.changePage = event => {\n      let targetPage = parseInt(event.target.value);\n\n      if (this.state.search) {\n        this.searchData(targetPage);\n      } else {\n        this.findAllHotels(targetPage);\n      }\n\n      this.setState({\n        [event.target.name]: targetPage\n      });\n    };\n\n    this.firstPage = () => {\n      let firstPage = 1;\n\n      if (this.state.currentPage > firstPage) {\n        if (this.state.search) {\n          this.searchData(firstPage);\n        } else {\n          this.findAllHotels(firstPage);\n        }\n      }\n    };\n\n    this.prevPage = () => {\n      let prevPage = 1;\n\n      if (this.state.currentPage > prevPage) {\n        if (this.state.search) {\n          this.searchData(this.state.currentPage - prevPage);\n        } else {\n          this.findAllHotels(this.state.currentPage - prevPage);\n        }\n      }\n    };\n\n    this.lastPage = () => {\n      let condition = Math.ceil(this.state.totalElements / this.state.hotelsPerPage);\n\n      if (this.state.currentPage < condition) {\n        if (this.state.search) {\n          this.searchData(condition);\n        } else {\n          this.findAllHotels(condition);\n        }\n      }\n    };\n\n    this.nextPage = () => {\n      if (this.state.currentPage < Math.ceil(this.state.totalElements / this.state.hotelsPerPage)) {\n        if (this.state.search) {\n          this.searchData(this.state.currentPage + 1);\n        } else {\n          this.findAllHotels(this.state.currentPage + 1);\n        }\n      }\n    };\n\n    this.searchChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.cancelSearch = () => {\n      this.setState({\n        \"search\": ''\n      });\n      this.findAllHotels(this.state.currentPage);\n    };\n\n    this.searchData = currentPage => {\n      currentPage -= 1;\n      axios.get(\"http://localhost:8081/api/hotels/search/\" + this.state.search + \"?page=\" + currentPage + \"&size=\" + this.state.hotelsPerPage).then(response => response.data).then(data => {\n        this.setState({\n          books: data.content,\n          totalPages: data.totalPages,\n          totalElements: data.totalElements,\n          currentPage: data.number + 1\n        });\n      });\n    };\n\n    this.state = {\n      hotels: [],\n      search: '',\n      currentPage: 1,\n      hotelsPerPage: 5,\n      sortToggle: true\n    };\n  }\n\n  componentDidMount() {\n    this.findALLHotels(this.state.currentPage);\n  }\n  /*findAllBooks() {\r\n      fetch(\"http://localhost:8081/rest/books\")\r\n          .then(response => response.json())\r\n          .then((data) => {\r\n              this.setState({books: data});\r\n          });\r\n  };*/\n\n\n  findAllHotels(currentPage) {\n    currentPage -= 1;\n    let sortDir = this.state.sortToggle ? \"asc\" : \"desc\";\n    axios.get(\"http://localhost:8081/api/hotels?pageNumber=\" + currentPage + \"&pageSize=\" + this.state.hotelsPerPage + \"&sortBy=price&sortDir=\" + sortDir).then(response => response.data).then(data => {\n      this.setState({\n        hotels: data.content,\n        totalPages: data.totalPages,\n        totalElements: data.totalElements,\n        currentPage: data.number + 1\n      });\n    });\n  }\n\n  render() {\n    const {\n      hotels,\n      currentPage,\n      totalPages,\n      search\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"display\": this.state.show ? \"block\" : \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"myToast\", {\n      show: this.state.show,\n      message: \"Book Deleted Successfully.\",\n      type: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"left\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 29\n      }\n    }), \" Book List\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      placeholder: \"Search\",\n      name: \"search\",\n      value: search,\n      className: \"info-border bg-dark text-white\",\n      onChange: this.searchChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"outline-info\",\n      type: \"button\",\n      onClick: this.searchData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"outline-danger\",\n      type: \"button\",\n      onClick: this.cancelSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 41\n      }\n    })))))), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      bordered: true,\n      hover: true,\n      striped: true,\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 33\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 33\n      }\n    }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 33\n      }\n    }, \"ISBN Number\"), /*#__PURE__*/React.createElement(\"th\", {\n      onClick: this.sortData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }, \"Price \", /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.sortToggle ? \"arrow arrow-down\" : \"arrow arrow-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 67\n      }\n    }, \" \")), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }, \"Language\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 33\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 33\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 29\n      }\n    }, books.length === 0 ? /*#__PURE__*/React.createElement(\"tr\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 41\n      }\n    }, \"No Books Available.\")) : books.map(book => /*#__PURE__*/React.createElement(\"tr\", {\n      key: book.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: book.coverPhotoURL,\n      roundedCircle: true,\n      width: \"25\",\n      height: \"25\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 49\n      }\n    }), \" \", book.title), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 45\n      }\n    }, book.author), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 45\n      }\n    }, book.isbnNumber), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 45\n      }\n    }, book.price), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 45\n      }\n    }, book.language), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 45\n      }\n    }, book.genre), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ButtonGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"edit/\" + book.id,\n      className: \"btn btn-sm btn-outline-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 123\n      }\n    })), ' ', /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"outline-danger\",\n      onClick: this.deleteBook.bind(this, book.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTrash,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 142\n      }\n    }))))))))), hotels.length > 0 ? /*#__PURE__*/React.createElement(Card.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"left\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, \"Showing Page \", currentPage, \" of \", totalPages), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === 1 ? true : false,\n      onClick: this.firstPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faFastBackward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 45\n      }\n    }), \" First\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === 1 ? true : false,\n      onClick: this.prevPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faStepBackward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 45\n      }\n    }), \" Prev\")), /*#__PURE__*/React.createElement(FormControl, {\n      className: \"page-num bg-dark\",\n      name: \"currentPage\",\n      value: currentPage,\n      onChange: this.changePage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === totalPages ? true : false,\n      onClick: this.nextPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faStepForward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 45\n      }\n    }), \" Next\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"outline-info\",\n      disabled: currentPage === totalPages ? true : false,\n      onClick: this.lastPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faFastForward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 45\n      }\n    }), \" Last\"))))) : null));\n  }\n\n}","map":{"version":3,"sources":["D:/Fakultet/V semestar/Web Programiranjj/Hotels/app/src/components/HotelList.js"],"names":["React","Component","Card","Table","Image","ButtonGroup","Button","InputGroup","FormControl","FontAwesomeIcon","faList","faEdit","faTrash","faStepBackward","faFastBackward","faStepForward","faFastForward","faSearch","faTimes","Link","myToast","axios","HotelList","constructor","props","sortData","setState","state","sortToggle","findAllHotels","currentPage","deleteHotel","hotelId","delete","then","response","data","setTimeout","hotels","filter","hotel","changePage","event","targetPage","parseInt","target","value","search","searchData","name","firstPage","prevPage","lastPage","condition","Math","ceil","totalElements","hotelsPerPage","nextPage","searchChange","cancelSearch","get","books","content","totalPages","number","componentDidMount","findALLHotels","sortDir","render","show","length","map","book","id","coverPhotoURL","title","author","isbnNumber","price","language","genre","deleteBook","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport './Style.css';\r\nimport {Card, Table, Image, ButtonGroup, Button, InputGroup, FormControl} from 'react-bootstrap';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faList, faEdit, faTrash, faStepBackward, faFastBackward, faStepForward, faFastForward, faSearch, faTimes} from '@fortawesome/free-solid-svg-icons';\r\nimport {Link} from 'react-router-dom';\r\nimport myToast from './myToast';\r\nimport axios from 'axios';\r\n\r\nexport default class HotelList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            hotels : [],\r\n            search : '',\r\n            currentPage : 1,\r\n            hotelsPerPage : 5,\r\n            sortToggle : true\r\n        };\r\n    }\r\n\r\n    sortData = () => {\r\n        this.setState(state => ({\r\n            sortToggle : !state.sortToggle\r\n        }));\r\n        this.findAllHotels(this.state.currentPage);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.findALLHotels(this.state.currentPage);\r\n    }\r\n\r\n    /*findAllBooks() {\r\n        fetch(\"http://localhost:8081/rest/books\")\r\n            .then(response => response.json())\r\n            .then((data) => {\r\n                this.setState({books: data});\r\n            });\r\n    };*/\r\n\r\n    findAllHotels(currentPage) {\r\n        currentPage -= 1;\r\n        let sortDir = this.state.sortToggle ? \"asc\" : \"desc\";\r\n        axios.get(\"http://localhost:8081/api/hotels?pageNumber=\"+currentPage+\"&pageSize=\"+this.state.hotelsPerPage+\"&sortBy=price&sortDir=\"+sortDir)\r\n            .then(response => response.data)\r\n            .then((data) => {\r\n                this.setState({\r\n                    hotels: data.content,\r\n                    totalPages: data.totalPages,\r\n                    totalElements: data.totalElements,\r\n                    currentPage: data.number + 1\r\n                });\r\n            });\r\n    };\r\n\r\n\r\n    deleteHotel = (hotelId) => {\r\n        axios.delete(\"http://localhost:8081/api/hotels/\"+hotelId)\r\n            .then(response => {\r\n                if(response.data != null) {\r\n                    this.setState({\"show\":true});\r\n                    setTimeout(() => this.setState({\"show\":false}), 3000);\r\n                    this.setState({\r\n                        hotels: this.state.hotels.filter(hotel => hotel.hotelId !== hotelId)\r\n                    });\r\n                } else {\r\n                    this.setState({\"show\":false});\r\n                }\r\n            });\r\n    };\r\n\r\n    changePage = event => {\r\n        let targetPage = parseInt(event.target.value);\r\n        if(this.state.search) {\r\n            this.searchData(targetPage);\r\n        } else {\r\n            this.findAllHotels(targetPage);\r\n        }\r\n        this.setState({\r\n            [event.target.name]: targetPage\r\n        });\r\n    };\r\n\r\n    firstPage = () => {\r\n        let firstPage = 1;\r\n        if(this.state.currentPage > firstPage) {\r\n            if(this.state.search) {\r\n                this.searchData(firstPage);\r\n            } else {\r\n                this.findAllHotels(firstPage);\r\n            }\r\n        }\r\n    };\r\n\r\n    prevPage = () => {\r\n        let prevPage = 1;\r\n        if(this.state.currentPage > prevPage) {\r\n            if(this.state.search) {\r\n                this.searchData(this.state.currentPage - prevPage);\r\n            } else {\r\n                this.findAllHotels(this.state.currentPage - prevPage);\r\n            }\r\n        }\r\n    };\r\n\r\n    lastPage = () => {\r\n        let condition = Math.ceil(this.state.totalElements / this.state.hotelsPerPage);\r\n        if(this.state.currentPage < condition) {\r\n            if(this.state.search) {\r\n                this.searchData(condition);\r\n            } else {\r\n                this.findAllHotels(condition);\r\n            }\r\n        }\r\n    };\r\n\r\n    nextPage = () => {\r\n        if(this.state.currentPage < Math.ceil(this.state.totalElements / this.state.hotelsPerPage)) {\r\n            if(this.state.search) {\r\n                this.searchData(this.state.currentPage + 1);\r\n            } else {\r\n                this.findAllHotels(this.state.currentPage + 1);\r\n            }\r\n        }\r\n    };\r\n\r\n    searchChange = event => {\r\n        this.setState({\r\n            [event.target.name] : event.target.value\r\n        });\r\n    };\r\n\r\n    cancelSearch = () => {\r\n        this.setState({\"search\" : ''});\r\n        this.findAllHotels(this.state.currentPage);\r\n    };\r\n\r\n    searchData = (currentPage) => {\r\n        currentPage -= 1;\r\n        axios.get(\"http://localhost:8081/api/hotels/search/\"+this.state.search+\"?page=\"+currentPage+\"&size=\"+this.state.hotelsPerPage)\r\n            .then(response => response.data)\r\n            .then((data) => {\r\n                this.setState({\r\n                    books: data.content,\r\n                    totalPages: data.totalPages,\r\n                    totalElements: data.totalElements,\r\n                    currentPage: data.number + 1\r\n                });\r\n            });\r\n    };\r\n\r\n    render() {\r\n        const {hotels, currentPage, totalPages, search} = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <div style={{\"display\":this.state.show ? \"block\" : \"none\"}}>\r\n                    <myToast show = {this.state.show} message = {\"Book Deleted Successfully.\"} type = {\"danger\"}/>\r\n                </div>\r\n                <Card className={\"border border-dark bg-dark text-white\"}>\r\n                    <Card.Header>\r\n                        <div style={{\"float\":\"left\"}}>\r\n                            <FontAwesomeIcon icon={faList} /> Book List\r\n                        </div>\r\n                        <div style={{\"float\":\"right\"}}>\r\n                            <InputGroup size=\"sm\">\r\n                                <FormControl placeholder=\"Search\" name=\"search\" value={search}\r\n                                             className={\"info-border bg-dark text-white\"}\r\n                                             onChange={this.searchChange}/>\r\n                                <InputGroup.Append>\r\n                                    <Button size=\"sm\" variant=\"outline-info\" type=\"button\" onClick={this.searchData}>\r\n                                        <FontAwesomeIcon icon={faSearch}/>\r\n                                    </Button>\r\n                                    <Button size=\"sm\" variant=\"outline-danger\" type=\"button\" onClick={this.cancelSearch}>\r\n                                        <FontAwesomeIcon icon={faTimes} />\r\n                                    </Button>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </div>\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                        <Table bordered hover striped variant=\"dark\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>Title</th>\r\n                                <th>Author</th>\r\n                                <th>ISBN Number</th>\r\n                                <th onClick={this.sortData}>Price <div className={this.state.sortToggle ? \"arrow arrow-down\" : \"arrow arrow-up\"}> </div></th>\r\n                                <th>Language</th>\r\n                                <th>Genre</th>\r\n                                <th>Actions</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n                                books.length === 0 ?\r\n                                    <tr align=\"center\">\r\n                                        <td colSpan=\"7\">No Books Available.</td>\r\n                                    </tr> :\r\n                                    books.map((book) => (\r\n                                        <tr key={book.id}>\r\n                                            <td>\r\n                                                <Image src={book.coverPhotoURL} roundedCircle width=\"25\" height=\"25\"/> {book.title}\r\n                                            </td>\r\n                                            <td>{book.author}</td>\r\n                                            <td>{book.isbnNumber}</td>\r\n                                            <td>{book.price}</td>\r\n                                            <td>{book.language}</td>\r\n                                            <td>{book.genre}</td>\r\n                                            <td>\r\n                                                <ButtonGroup>\r\n                                                    <Link to={\"edit/\"+book.id} className=\"btn btn-sm btn-outline-primary\"><FontAwesomeIcon icon={faEdit} /></Link>{' '}\r\n                                                    <Button size=\"sm\" variant=\"outline-danger\" onClick={this.deleteBook.bind(this, book.id)}><FontAwesomeIcon icon={faTrash} /></Button>\r\n                                                </ButtonGroup>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                            }\r\n                            </tbody>\r\n                        </Table>\r\n                    </Card.Body>\r\n                    {hotels.length > 0 ?\r\n                        <Card.Footer>\r\n                            <div style={{\"float\":\"left\"}}>\r\n                                Showing Page {currentPage} of {totalPages}\r\n                            </div>\r\n                            <div style={{\"float\":\"right\"}}>\r\n                                <InputGroup size=\"sm\">\r\n                                    <InputGroup.Prepend>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === 1 ? true : false}\r\n                                                onClick={this.firstPage}>\r\n                                            <FontAwesomeIcon icon={faFastBackward} /> First\r\n                                        </Button>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === 1 ? true : false}\r\n                                                onClick={this.prevPage}>\r\n                                            <FontAwesomeIcon icon={faStepBackward} /> Prev\r\n                                        </Button>\r\n                                    </InputGroup.Prepend>\r\n                                    <FormControl className={\"page-num bg-dark\"} name=\"currentPage\" value={currentPage}\r\n                                                 onChange={this.changePage}/>\r\n                                    <InputGroup.Append>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === totalPages ? true : false}\r\n                                                onClick={this.nextPage}>\r\n                                            <FontAwesomeIcon icon={faStepForward} /> Next\r\n                                        </Button>\r\n                                        <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === totalPages ? true : false}\r\n                                                onClick={this.lastPage}>\r\n                                            <FontAwesomeIcon icon={faFastForward} /> Last\r\n                                        </Button>\r\n                                    </InputGroup.Append>\r\n                                </InputGroup>\r\n                            </div>\r\n                        </Card.Footer> : null\r\n                    }\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}